<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>XL320 Driver for STM32: Core/Src/xl320_driver.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">XL320 Driver for STM32
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c6310732a22f63c0c2fc5595561e68f1.html">Core</a></li><li class="navelem"><a class="el" href="dir_b596f468b52957496e4f78b80e029268.html">Src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">xl320_driver.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="xl320__driver_8h_source.html">xl320_driver.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae74812183aa2c0d32b158025414faa52"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xl320__driver_8c.html#ae74812183aa2c0d32b158025414faa52">xl320_init</a> (<a class="el" href="struct_x_l320__t.html">XL320_t</a> *xl320, uint8_t id, XL320_BaudRate_t br)</td></tr>
<tr class="memdesc:ae74812183aa2c0d32b158025414faa52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize XL320 structure.  <a href="xl320__driver_8c.html#ae74812183aa2c0d32b158025414faa52">More...</a><br /></td></tr>
<tr class="separator:ae74812183aa2c0d32b158025414faa52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f7b52f507f3fe443f7bd7b0fab3631a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xl320__driver_8c.html#a1f7b52f507f3fe443f7bd7b0fab3631a">xl320_addHeader2Buff</a> (uint8_t *buff)</td></tr>
<tr class="memdesc:a1f7b52f507f3fe443f7bd7b0fab3631a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an header to a buffer.  <a href="xl320__driver_8c.html#a1f7b52f507f3fe443f7bd7b0fab3631a">More...</a><br /></td></tr>
<tr class="separator:a1f7b52f507f3fe443f7bd7b0fab3631a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d8deba3b0b5b80260e2661891f9a07a"><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xl320__driver_8c.html#a5d8deba3b0b5b80260e2661891f9a07a">xl320_updateCrc</a> (unsigned short crc_accum, unsigned char *data_blk_ptr, unsigned short data_blk_size)</td></tr>
<tr class="memdesc:a5d8deba3b0b5b80260e2661891f9a07a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the CRC field of a data frame.  <a href="xl320__driver_8c.html#a5d8deba3b0b5b80260e2661891f9a07a">More...</a><br /></td></tr>
<tr class="separator:a5d8deba3b0b5b80260e2661891f9a07a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabc37bd5b727c3cd847f518ecd2a7261"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="xl320__driver_8c.html#aabc37bd5b727c3cd847f518ecd2a7261">xl320_copyParams2Buff</a> (uint8_t buffStartIndex, uint8_t *buff, uint16_t nbParams, uint8_t *params)</td></tr>
<tr class="memdesc:aabc37bd5b727c3cd847f518ecd2a7261"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy a table in an other table The number of element between the start index and the end of buff (the receiving table) must be greater than the size of params (the buffer to copy).  <a href="xl320__driver_8c.html#aabc37bd5b727c3cd847f518ecd2a7261">More...</a><br /></td></tr>
<tr class="separator:aabc37bd5b727c3cd847f518ecd2a7261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e4929164c8073e9eb7fd0c49027b2f7"><td class="memItemLeft" align="right" valign="top"><a id="a7e4929164c8073e9eb7fd0c49027b2f7" name="a7e4929164c8073e9eb7fd0c49027b2f7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>xl320_sendCommand</b> (<a class="el" href="struct_x_l320__t.html">XL320_t</a> *xl320, XL320_Instruction_t inst, uint16_t nbParams, uint8_t *params)</td></tr>
<tr class="separator:a7e4929164c8073e9eb7fd0c49027b2f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9c13ae66ad9ebf4f4359454617a3d15"><td class="memItemLeft" align="right" valign="top"><a id="ad9c13ae66ad9ebf4f4359454617a3d15" name="ad9c13ae66ad9ebf4f4359454617a3d15"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>xl320_receiveCommand</b> (<a class="el" href="struct_x_l320__t.html">XL320_t</a> *xl320, uint8_t *rxBuff)</td></tr>
<tr class="separator:ad9c13ae66ad9ebf4f4359454617a3d15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae51cd4d4af14a91924e804b5da2573c6"><td class="memItemLeft" align="right" valign="top"><a id="ae51cd4d4af14a91924e804b5da2573c6" name="ae51cd4d4af14a91924e804b5da2573c6"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>xl320_checkErrorField</b> (uint8_t errCode)</td></tr>
<tr class="separator:ae51cd4d4af14a91924e804b5da2573c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad84ce8ca8bc39438ce651a56b7f42061"><td class="memItemLeft" align="right" valign="top"><a id="ad84ce8ca8bc39438ce651a56b7f42061" name="ad84ce8ca8bc39438ce651a56b7f42061"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>xl320_check_crcField</b> (uint8_t *buffer)</td></tr>
<tr class="separator:ad84ce8ca8bc39438ce651a56b7f42061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae53f811f7d7c900bd0dfa95ca642aa31"><td class="memItemLeft" align="right" valign="top"><a id="ae53f811f7d7c900bd0dfa95ca642aa31" name="ae53f811f7d7c900bd0dfa95ca642aa31"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>xl320_reboot</b> (<a class="el" href="struct_x_l320__t.html">XL320_t</a> *xl320)</td></tr>
<tr class="separator:ae53f811f7d7c900bd0dfa95ca642aa31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46e0f4da869ac67dca638182b9ae689b"><td class="memItemLeft" align="right" valign="top"><a id="a46e0f4da869ac67dca638182b9ae689b" name="a46e0f4da869ac67dca638182b9ae689b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>xl320_setLedColor</b> (<a class="el" href="struct_x_l320__t.html">XL320_t</a> *xl320, XL320_Color_t color)</td></tr>
<tr class="separator:a46e0f4da869ac67dca638182b9ae689b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8267fc421e562559460bb088d9432fa0"><td class="memItemLeft" align="right" valign="top"><a id="a8267fc421e562559460bb088d9432fa0" name="a8267fc421e562559460bb088d9432fa0"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>xl320_setGoalPosition</b> (<a class="el" href="struct_x_l320__t.html">XL320_t</a> *xl320, float goalPositionInDeg)</td></tr>
<tr class="separator:a8267fc421e562559460bb088d9432fa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e9b9abac937406ed8831dc6e661b9ae"><td class="memItemLeft" align="right" valign="top"><a id="a9e9b9abac937406ed8831dc6e661b9ae" name="a9e9b9abac937406ed8831dc6e661b9ae"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>xl320_setSpeed</b> (<a class="el" href="struct_x_l320__t.html">XL320_t</a> *xl320, float rpm)</td></tr>
<tr class="separator:a9e9b9abac937406ed8831dc6e661b9ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04fac70f61b3e4bccffc8bf55b681934"><td class="memItemLeft" align="right" valign="top"><a id="a04fac70f61b3e4bccffc8bf55b681934" name="a04fac70f61b3e4bccffc8bf55b681934"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>xl320_executeAction</b> (<a class="el" href="struct_x_l320__t.html">XL320_t</a> *xl320)</td></tr>
<tr class="separator:a04fac70f61b3e4bccffc8bf55b681934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeead0c488c0a7a2629f919c0087560c"><td class="memItemLeft" align="right" valign="top"><a id="abeead0c488c0a7a2629f919c0087560c" name="abeead0c488c0a7a2629f919c0087560c"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>xl320_torqueEnable</b> (<a class="el" href="struct_x_l320__t.html">XL320_t</a> *xl320)</td></tr>
<tr class="separator:abeead0c488c0a7a2629f919c0087560c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab21cd7d126a09ba13720afd51ce86cf6"><td class="memItemLeft" align="right" valign="top"><a id="ab21cd7d126a09ba13720afd51ce86cf6" name="ab21cd7d126a09ba13720afd51ce86cf6"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>xl320_blinbling</b> (<a class="el" href="struct_x_l320__t.html">XL320_t</a> *xl320)</td></tr>
<tr class="separator:ab21cd7d126a09ba13720afd51ce86cf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Jean-François Castellani </dd>
<dd>
Lucas Vallery </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1f7b52f507f3fe443f7bd7b0fab3631a" name="a1f7b52f507f3fe443f7bd7b0fab3631a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f7b52f507f3fe443f7bd7b0fab3631a">&#9670;&#160;</a></span>xl320_addHeader2Buff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xl320_addHeader2Buff </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an header to a buffer. </p>
<p >The frame format follows the DYNAMIXEL PROTOCOL 2.0. The header is build on the following pattern : </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Header   </th><th class="markdownTableHeadNone">Reserved    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">0xFF 0xFF 0xFD   </td><td class="markdownTableBodyNone">0x00   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>The buffer in which the function will add the header. The buffer's size must be more than 4 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aabc37bd5b727c3cd847f518ecd2a7261" name="aabc37bd5b727c3cd847f518ecd2a7261"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabc37bd5b727c3cd847f518ecd2a7261">&#9670;&#160;</a></span>xl320_copyParams2Buff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xl320_copyParams2Buff </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>buffStartIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>nbParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy a table in an other table The number of element between the start index and the end of buff (the receiving table) must be greater than the size of params (the buffer to copy). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffStartIndex</td><td>The address from which the params will be copied. </td></tr>
    <tr><td class="paramname">buff</td><td>The buffer in wich the params will be copied </td></tr>
    <tr><td class="paramname">nbParams</td><td>The size of the to-copy table. </td></tr>
    <tr><td class="paramname">params</td><td>The table to copy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae74812183aa2c0d32b158025414faa52" name="ae74812183aa2c0d32b158025414faa52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae74812183aa2c0d32b158025414faa52">&#9670;&#160;</a></span>xl320_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xl320_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_l320__t.html">XL320_t</a> *&#160;</td>
          <td class="paramname"><em>xl320</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">XL320_BaudRate_t&#160;</td>
          <td class="paramname"><em>br</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize XL320 structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xl320</td><td>Instance to be initialized </td></tr>
    <tr><td class="paramname">id</td><td>Device's ID </td></tr>
    <tr><td class="paramname">br</td><td>Devices's baud-rate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns zero if successful </dd></dl>

</div>
</div>
<a id="a5d8deba3b0b5b80260e2661891f9a07a" name="a5d8deba3b0b5b80260e2661891f9a07a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d8deba3b0b5b80260e2661891f9a07a">&#9670;&#160;</a></span>xl320_updateCrc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short xl320_updateCrc </td>
          <td>(</td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>crc_accum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>data_blk_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>data_blk_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the CRC field of a data frame. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">crc_accum</td><td>Must be set to zero. </td></tr>
    <tr><td class="paramname">data_blk_ptr</td><td>Pointer in the first element of the data frame. </td></tr>
    <tr><td class="paramname">data_blk_size</td><td>Size of the data frame.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The CRC value on 16 bits. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
